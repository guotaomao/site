<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>计算机网络-网络层 | maoguotao</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
    <meta name="description" content="笔记">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.320bd09b.css" as="style"><link rel="preload" href="/assets/js/app.c6f5b0ce.js" as="script"><link rel="preload" href="/assets/js/3.cc0234fb.js" as="script"><link rel="preload" href="/assets/js/1.e1c511f8.js" as="script"><link rel="preload" href="/assets/js/25.7e7be031.js" as="script"><link rel="prefetch" href="/assets/js/10.6a14c299.js"><link rel="prefetch" href="/assets/js/11.09846438.js"><link rel="prefetch" href="/assets/js/12.b55b9ec2.js"><link rel="prefetch" href="/assets/js/13.d4599e6c.js"><link rel="prefetch" href="/assets/js/14.e6c2c43a.js"><link rel="prefetch" href="/assets/js/15.e09416ee.js"><link rel="prefetch" href="/assets/js/16.40f5e02d.js"><link rel="prefetch" href="/assets/js/17.d842a038.js"><link rel="prefetch" href="/assets/js/18.1dafd289.js"><link rel="prefetch" href="/assets/js/19.f18a50ab.js"><link rel="prefetch" href="/assets/js/20.4a3fa2a1.js"><link rel="prefetch" href="/assets/js/21.e644488c.js"><link rel="prefetch" href="/assets/js/22.cb953662.js"><link rel="prefetch" href="/assets/js/23.de941e48.js"><link rel="prefetch" href="/assets/js/24.7cf51069.js"><link rel="prefetch" href="/assets/js/26.a4b86312.js"><link rel="prefetch" href="/assets/js/27.23d6bb80.js"><link rel="prefetch" href="/assets/js/28.24d8fdcd.js"><link rel="prefetch" href="/assets/js/29.bfd9e476.js"><link rel="prefetch" href="/assets/js/4.da92d3fd.js"><link rel="prefetch" href="/assets/js/5.a8a5ed10.js"><link rel="prefetch" href="/assets/js/6.422d68fe.js"><link rel="prefetch" href="/assets/js/7.043f47e5.js"><link rel="prefetch" href="/assets/js/8.b84c8751.js"><link rel="prefetch" href="/assets/js/9.63c7e059.js">
    <link rel="stylesheet" href="/assets/css/0.styles.320bd09b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-19557b78><div data-v-19557b78><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-19557b78 data-v-19557b78><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-19557b78 data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>maoguotao</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>maoguotao</span>
            
          <span data-v-64685f0e>2018 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-19557b78><header class="navbar" data-v-19557b78><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="maoguotao" class="logo"> <span class="site-name">maoguotao</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/生活/" class="nav-link"><i class="iconfont undefined"></i>
  生活
</a></li><li class="dropdown-item"><!----> <a href="/categories/javascript 内存机制/" class="nav-link"><i class="iconfont undefined"></i>
  javascript 内存机制
</a></li><li class="dropdown-item"><!----> <a href="/categories/js/" class="nav-link"><i class="iconfont undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/categories/浏览器原理/" class="nav-link"><i class="iconfont undefined"></i>
  浏览器原理
</a></li><li class="dropdown-item"><!----> <a href="/categories/计算机网络/" class="nav-link"><i class="iconfont undefined"></i>
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/categories/css/" class="nav-link"><i class="iconfont undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/categories/html/" class="nav-link"><i class="iconfont undefined"></i>
  html
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      github
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/scorpionMGT" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-19557b78></div> <aside class="sidebar" data-v-19557b78><div class="personal-info-wrapper" data-v-b038cec6><img src="/logo.png" alt="author-avatar" class="personal-img" data-v-b038cec6> <h3 class="name" data-v-b038cec6>
    maoguotao
  </h3> <div class="num" data-v-b038cec6><div data-v-b038cec6><h3 data-v-b038cec6>16</h3> <h6 data-v-b038cec6>Article</h6></div> <div data-v-b038cec6><h3 data-v-b038cec6>7</h3> <h6 data-v-b038cec6>Tag</h6></div></div> <hr data-v-b038cec6></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/生活/" class="nav-link"><i class="iconfont undefined"></i>
  生活
</a></li><li class="dropdown-item"><!----> <a href="/categories/javascript 内存机制/" class="nav-link"><i class="iconfont undefined"></i>
  javascript 内存机制
</a></li><li class="dropdown-item"><!----> <a href="/categories/js/" class="nav-link"><i class="iconfont undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/categories/浏览器原理/" class="nav-link"><i class="iconfont undefined"></i>
  浏览器原理
</a></li><li class="dropdown-item"><!----> <a href="/categories/计算机网络/" class="nav-link"><i class="iconfont undefined"></i>
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/categories/css/" class="nav-link"><i class="iconfont undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/categories/html/" class="nav-link"><i class="iconfont undefined"></i>
  html
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      github
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/scorpionMGT" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>计算机网络-网络层</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#_1-数据链路层" class="sidebar-link">1 数据链路层</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#_2-数据链路层的三个基本问题是：封装成帧、透明传输、差错检测" class="sidebar-link">2 数据链路层的三个基本问题是：封装成帧、透明传输、差错检测</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#_3-点对点的信道数据链路层" class="sidebar-link">3 点对点的信道数据链路层</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#点对点协议-ppp-协议" class="sidebar-link">点对点协议 PPP 协议</a></li></ul></li><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#_4-以太网（传播电磁波的以太来命名）" class="sidebar-link">4 以太网（传播电磁波的以太来命名）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#_4-1-以太网的-mac-层，mac-层的硬件地址，或者称之为硬件地址，物理地址" class="sidebar-link">4.1 以太网的 MAC 层，MAC 层的硬件地址，或者称之为硬件地址，物理地址</a></li></ul></li><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务" class="sidebar-link">网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#网际协议-ip-所谓-ipv4-是-ip-协议的第四个版本" class="sidebar-link">网际协议 IP, 所谓 IPv4 是 IP 协议的第四个版本</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#ip-地址的分类" class="sidebar-link">ip 地址的分类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#ip-地址及其表示方法" class="sidebar-link">ip 地址及其表示方法</a></li><li class="sidebar-sub-header"><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#常用的三类-ip-地址" class="sidebar-link">常用的三类 IP 地址</a></li></ul></li><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#ip-地址与-mac-硬件地址" class="sidebar-link">IP 地址与 MAC 硬件地址</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#地址解析协议-arp" class="sidebar-link">地址解析协议 ARP</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#ip-数据报的格式" class="sidebar-link">IP 数据报的格式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#划分子网和构建超网" class="sidebar-link">划分子网和构建超网</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#划分子网的基本思路" class="sidebar-link">划分子网的基本思路</a></li><li class="sidebar-sub-header"><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#子网掩码" class="sidebar-link">子网掩码</a></li><li class="sidebar-sub-header"><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#无分类编址-cidr" class="sidebar-link">无分类编址 CIDR</a></li></ul></li><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#网际控制报文协议-icmp-internet-control-message-protocal" class="sidebar-link">网际控制报文协议 ICMP (internet control message protocal)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#ipv6-ipv6-任然支持无连接的传送，将协议数据单元-pdu-称之为分组，而不是-ipv4-的数据报" class="sidebar-link">IPv6 IPv6 任然支持无连接的传送，将协议数据单元 PDU 称之为分组，而不是 IPv4 的数据报</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html#从-ipv4-到-ipv6-过渡-ipv6-必须向后兼容" class="sidebar-link">从 IPv4 到 IPv6 过渡 IPv6 必须向后兼容</a></li></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>计算机网络-网络层</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>maoguotao</span>
            
          <span data-v-64685f0e>2018 - </span>
          2022
        </a></span></div></div> <div data-v-19557b78><main class="page"><div class="page-title" style="display:none;"><h1>计算机网络-网络层</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>maoguotao</span></i> <i class="iconfont reco-date" data-v-484a899e><span data-v-484a899e>2022-04-10</span></i> <i class="iconfont reco-eye" data-v-484a899e><span id="/views/study/TCP_IP/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%A6%81.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-484a899e><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-484a899e><span class="tag-item" data-v-484a899e>
      计算机网络
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="_1-数据链路层"><a href="#_1-数据链路层" class="header-anchor">#</a> 1 数据链路层</h2> <p>数据链路层是计算机网络的底层，它分为两种类型：</p> <ul><li>点对点信道: 这种信道是使用一对一的点对点通信方式</li> <li>广播信道: 是一对多的广播通信方式</li></ul> <p>同一个局域网下的主机 A 与主机 B 急性通讯是不经过路由器，而是通过数据链路层，最常见的点对点的通信协议是 PPP 协议</p> <h2 id="_2-数据链路层的三个基本问题是：封装成帧、透明传输、差错检测"><a href="#_2-数据链路层的三个基本问题是：封装成帧、透明传输、差错检测" class="header-anchor">#</a> 2 数据链路层的三个基本问题是：封装成帧、透明传输、差错检测</h2> <p>数据链路层将网络层的 IP 数据报封装成帧发送到链路上，以及把接受到的帧内的数据交上给网络层</p> <p><img src="https://s1.ax1x.com/2022/04/12/LepyRI.png" alt="三层简化模型"></p> <h2 id="_3-点对点的信道数据链路层"><a href="#_3-点对点的信道数据链路层" class="header-anchor">#</a> 3 点对点的信道数据链路层</h2> <h3 id="点对点协议-ppp-协议"><a href="#点对点协议-ppp-协议" class="header-anchor">#</a> 点对点协议 PPP 协议</h3> <p>互联网用户需要通过链接到某个 ISP 才能连接互联网，ppp 协议就是用户计算机和 ISP 通讯时所用的数据链路层协议</p> <p><img src="https://s1.ax1x.com/2022/04/12/LeS6DU.png" alt="连接图"></p> <h2 id="_4-以太网（传播电磁波的以太来命名）"><a href="#_4-以太网（传播电磁波的以太来命名）" class="header-anchor">#</a> 4 以太网（传播电磁波的以太来命名）</h2> <p>早期的以太网是一种基带总线局域网，以太网用无源电缆作为总线来传递数据帧，由于商业竞争激烈，局域网未能形成一个统一的标准，IEEE802 委员会把局域网中的数据链路层划分为两个子层</p> <ul><li>一个是逻辑链路控制层 LLC（logical link control）</li> <li>一个是媒体接入控制层 MAC（medium access control）</li></ul> <p><img src="https://s1.ax1x.com/2022/04/12/LeSRUJ.png" alt="局域网数据链路层"></p> <p>之后技术的快速发展，以太网在市场中占据垄断优势，LLC 逻辑链路控制层也逐渐消失，很多厂商生产的的适配器也只有 MAC 媒体接入控制层</p> <h3 id="_4-1-以太网的-mac-层，mac-层的硬件地址，或者称之为硬件地址，物理地址"><a href="#_4-1-以太网的-mac-层，mac-层的硬件地址，或者称之为硬件地址，物理地址" class="header-anchor">#</a> 4.1 以太网的 MAC 层，MAC 层的硬件地址，或者称之为硬件地址，物理地址</h3> <p>在所有的计算机系统设计中，标识系统是核心问题，在标识系统中，地址就是识别某个系统的核心标识符<strong>名字是指出我们要寻找的那个资源，地址是指出我们要寻找的那个资源在何处，路由是告诉我们怎么到达该地址</strong> 严格的讲，名字应该与系统所在地无关 IEEE802 标准为局域网规定了一种 48 位（6 个字节）全球地址，是指局域网上的每一台计算机中固化的适配器 ROM 中的地址。严格的讲，局域网中的地址代表的是用户主机的名字或者标识符，IEEE 注册管理机构 RA 是局域网全球地址的法定管理机构，他负责分配地址的前三个字节（24 位），凡是生产适配器的厂商都要向管理机构购买前三个字节地址，后三个字节由厂家自行分配</p> <h1 id="网络层"><a href="#网络层" class="header-anchor">#</a> 网络层</h1> <h2 id="网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务"><a href="#网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务" class="header-anchor">#</a> 网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务</h2> <p>网络的发送分组时不需要建立连接，每一个分组（IP 数据报）独立发送，与其前后的分组无关，<em>网络层不提供服务质量的承诺</em> 也就是说网络层所传送的分组可能出错，丢失，重复，无序，分组的交付时间也无法保证，由于传输网络不提供端到端的可靠传输服务，这就使得互联网中的路由器变得简单，价格低廉</p> <h2 id="网际协议-ip-所谓-ipv4-是-ip-协议的第四个版本"><a href="#网际协议-ip-所谓-ipv4-是-ip-协议的第四个版本" class="header-anchor">#</a> 网际协议 IP, 所谓 IPv4 是 IP 协议的第四个版本</h2> <p>与 ip 协议配套使用有三个协议：</p> <ol><li>地址解析协议 ARP（address resolution protocal）</li> <li>网际控制报文协议 ICMP （internet control message protocal）</li> <li>网际组管理协议 IGMP （internet group management protocal）</li></ol> <p><img src="https://s1.ax1x.com/2022/04/12/LeSDg0.png" alt="网络层"></p> <p>一般来讲，要将互联网连接起来需要一些中间设备：</p> <ul><li>物理层使用的中间设备叫转发器</li> <li>数据链路层使用的中间设备叫网桥或者桥接器</li> <li>网络层使用的中间设备叫路由器 router</li> <li>在网络层以上使用的中间设备叫网关</li></ul> <h2 id="ip-地址的分类"><a href="#ip-地址的分类" class="header-anchor">#</a> ip 地址的分类</h2> <h3 id="ip-地址及其表示方法"><a href="#ip-地址及其表示方法" class="header-anchor">#</a> ip 地址及其表示方法</h3> <p>整个互联网可以看成一个单一的抽象的网络，IP 地址就是给互联网上的每一台主机或者路由器，每一个接口分配一个全球唯一的 32 位的标识符（4 个字节）</p> <div class="language- extra-class"><pre><code>   ip 地址 = {&lt;网络号&gt; &lt;主机号&gt;}
</code></pre></div><p><img src="https://s1.ax1x.com/2022/04/12/LeSrvV.png" alt="ip地址分类"></p> <ul><li>A,B,C 类地址的网络号字段，分别为 1，2,3 个字节长度，在网络号的最前面三位为类别，这三个数值为 0，10， 110</li> <li>A,B,C 类地址的主机号字段分别为 3,2,1 个字节长度</li> <li>D 类地址为多播地址</li> <li>E 类地址为保留地址</li></ul> <p>近年来已经使用无分类地址，因此分类地址已经成为了历史</p> <p><img src="https://s1.ax1x.com/2022/04/12/LekYzd.png" alt="ip地址的书写方式"></p> <h3 id="常用的三类-ip-地址"><a href="#常用的三类-ip-地址" class="header-anchor">#</a> 常用的三类 IP 地址</h3> <ul><li><p>A 类地址的网络号字段占一个字节，只有 7 位可以使用（最前面一位固定为 0）因此可以指派的网络号为 2^7-2 (减去 2 的原因是，<strong>第一是全是 0 的情况是保留地址，为本网络，第二个是全是 01111111 为 127，保留为本地软件的回环测试本主机进程间的通信用</strong>) A 类地址主机号占用三个字节，因此 A 类主机数为 2^24-2（这里减 2 的原因是因为，<strong>第一全 0 表示本主机，第二是全 1 表示所有主机</strong>），因此 A 类地址有 2^31 个占整个 IP 地址的 2^32 个的 50%</p></li> <li><p>B 类地址网络号占两个字节，前两位固定为（10）因此整个 B 类地址不会出现全 0 和全 1 的情况，因此不用减 2，但是 B 类地址网络号和主机号会出现 128.0.0.0，这个地址是不指派的，因此网络地址最小为 128.1，为 2^14-1,主机号的地址为 2^16-2(排除全部是 0 和全部是 1 的情况), 因此 B 类地址约有 2^30 个地址，占整个 IP 地址数的 25%</p></li> <li><p>C 类地址网络号占 3 个字节，前三位固定(110)还有 21 位可以分配的，C 类网络地址 192.0.0.0 是不指派的，因此可以指派的最小网络地址为 192.0.1，因此 C 类地址的网络号数有 2^21-1, C 类地址的主机个数为 2^8-2,因此 C 类地址占用整个 IP 地址数 12.5%</p></li></ul> <p><img src="https://s1.ax1x.com/2022/04/12/LeSW59.png" alt="网络地址范围"></p> <p><img src="https://s1.ax1x.com/2022/04/12/LeS2E4.png" alt="互联网中的IP地址"></p> <h2 id="ip-地址与-mac-硬件地址"><a href="#ip-地址与-mac-硬件地址" class="header-anchor">#</a> IP 地址与 MAC 硬件地址</h2> <p><em>物理地址是数据链路层和物理层使用的地址，IP 地址是网络层及以上所使用的地址是一种逻辑地址</em></p> <p><img src="https://s1.ax1x.com/2022/04/12/LeSB3q.png" alt="IP地址和MAC硬件地址的区别"></p> <h2 id="地址解析协议-arp"><a href="#地址解析协议-arp" class="header-anchor">#</a> 地址解析协议 ARP</h2> <p>我们知道一个主机的 IP 地址，需要找到其对应的物理地址，地址解析协议 ARP 就是解决此问题的</p> <p><img src="https://s1.ax1x.com/2022/04/12/LeSrvV.png" alt="地址解析协议ARP"></p> <p>网络层是使用的 IP 地址，但是在数据链路层传输数据帧的时候使用的还是硬件地址</p> <h2 id="ip-数据报的格式"><a href="#ip-数据报的格式" class="header-anchor">#</a> IP 数据报的格式</h2> <p><img src="https://s1.ax1x.com/2022/04/12/LeSyuT.png" alt="ip数据报的格式"></p> <h4 id="版本-占-4-位，指-ip-协议的版本，双方通信所使用的的-ip-协议必须保持一致"><a href="#版本-占-4-位，指-ip-协议的版本，双方通信所使用的的-ip-协议必须保持一致" class="header-anchor">#</a> 版本 占 4 位，指 IP 协议的版本，双方通信所使用的的 IP 协议必须保持一致</h4> <p>​</p> <h4 id="首部长度，-占-4-位最大可以表示十进制数据为-15-（首都长度的所表示数的单位是-32-位字也就是-4-个字节）因此，整个首部最大长度为-60-个字节"><a href="#首部长度，-占-4-位最大可以表示十进制数据为-15-（首都长度的所表示数的单位是-32-位字也就是-4-个字节）因此，整个首部最大长度为-60-个字节" class="header-anchor">#</a> 首部长度， 占 4 位最大可以表示十进制数据为 15 （首都长度的所表示数的单位是 32 位字也就是 4 个字节）因此，整个首部最大长度为 60 个字节</h4> <p>​</p> <h2 id="划分子网和构建超网"><a href="#划分子网和构建超网" class="header-anchor">#</a> 划分子网和构建超网</h2> <p>​
从两级 IP 地址到三级 IP 地址，IP 地址有时候的利用率很低，两级 IP 地址不够灵活，因此<em>增加一个子网号字段</em>使两级 IP 地址变成三级 IP 地址，这种做法叫做划分子网，或者叫子网寻址
​</p> <h3 id="划分子网的基本思路"><a href="#划分子网的基本思路" class="header-anchor">#</a> 划分子网的基本思路</h3> <p>​</p> <ol><li>一个拥有多物理网的单位，可以将所属的物理网络划分为若干个子网，划分子网纯属单位内部事情，本单位以外的网络看不见单位内部有多少个子网组成
​</li> <li>划分子网的方法是从网络的主机号借用若干位作为子网号，于是 IP 地址在单位内部变成了三级 IP 地址
​
IP 地址 = {网络号 子网号 主机号}</li></ol> <p>凡是从其他网络发送给本单位某台主机的 IP 数据报，任然是根据根据 IP 数据报的目的网络号找到连接在本单位在网络上的路由器，此路由器收到 IP 数据报之后，再按目的网络号和子网号找到目的子网，再把 IP 数据报交给目的主机
​
<img src="https://s1.ax1x.com/2022/04/12/LelLX8.png" alt="三级IP地址内部网络划分示例">
​
​</p> <h3 id="子网掩码"><a href="#子网掩码" class="header-anchor">#</a> 子网掩码</h3> <p>​
剩下的就是当 IP 数据报发送到 R1 路由器
​
<img src="https://s1.ax1x.com/2022/04/12/Le1g4s.png" alt="三级网络的子网掩码">
​
图中的(e)子网的网络地址是三级 IP 地址和三级 IP 地址的子网掩码做<em>与运算</em>
子网掩码是子网络一个重要的属性
​</p> <h3 id="无分类编址-cidr"><a href="#无分类编址-cidr" class="header-anchor">#</a> 无分类编址 CIDR</h3> <p>​
IP 地址空间已经被耗尽，因此无分类 IP 地址可以暂时解决此问题，使用变长子网掩码可以有效提升 IP 地址的资源利用率 <em>无分类编址方式消除了 A,B,C 类地址和划分子网的概念，CIDR 将网络 IP 地址划分为网络前缀，和网络主机，因此网络 IP 地址又从三级地址变成了二级地址</em>
​
ip 地址 = {&lt;网络前缀&gt; &lt;主机号&gt;}</p> <p><em>CIDR 还使用斜线记法 即在 IP 地址后面加斜线，然后写上网络前缀所占位数</em> 斜线记法中斜线后面的数值就是子网掩码中的 1 的个数</p> <h2 id="网际控制报文协议-icmp-internet-control-message-protocal"><a href="#网际控制报文协议-icmp-internet-control-message-protocal" class="header-anchor">#</a> 网际控制报文协议 ICMP (internet control message protocal)</h2> <p>网际控制报文协议 ICMP 报文是装在 IP 数据报中的，作为数据的一部分</p> <h4 id="icmp-一个重要应用示例是-ping-功能-（用来测试两台主机的联通性），ping-是应用层直接使用了网络层的-icmp"><a href="#icmp-一个重要应用示例是-ping-功能-（用来测试两台主机的联通性），ping-是应用层直接使用了网络层的-icmp" class="header-anchor">#</a> ICMP 一个重要应用示例是 ping 功能 （用来测试两台主机的联通性），ping 是应用层直接使用了网络层的 ICMP</h4> <h2 id="ipv6-ipv6-任然支持无连接的传送，将协议数据单元-pdu-称之为分组，而不是-ipv4-的数据报"><a href="#ipv6-ipv6-任然支持无连接的传送，将协议数据单元-pdu-称之为分组，而不是-ipv4-的数据报" class="header-anchor">#</a> IPv6 IPv6 任然支持无连接的传送，将协议数据单元 PDU 称之为分组，而不是 IPv4 的数据报</h2> <ol><li>IPv6 有更大的地址空间，ipv4 是 4 个字节 32 位，而 ipv6 是 16 个字节 128 位</li> <li>扩展的地址层次结构，由于地址空间比较大，因此可以扩展出更多的地址层次结构</li> <li>灵活的首部格式等等</li></ol> <p><img src="https://s1.ax1x.com/2022/04/12/Lej226.png" alt="IPv6数据格式"></p> <p>IPv6 采用冒号十六进制记法, 把每个 16 位用 16 进制数表示，因此 IPv6 有 8 个十六进制数</p> <div class="language- extra-class"><pre><code>            686E:8C64:FFFF:FFFF:0:1180:960A:FFFF
</code></pre></div><h3 id="从-ipv4-到-ipv6-过渡-ipv6-必须向后兼容"><a href="#从-ipv4-到-ipv6-过渡-ipv6-必须向后兼容" class="header-anchor">#</a> 从 IPv4 到 IPv6 过渡 IPv6 必须向后兼容</h3> <p>如果 DNS 查询的 IP 地址是 ipv4 那么源主机就是使用的 IPv4，如果 DNS 查询的 IP 地址是 ipv6 那么源主机就是使用的 IPv6，和 IPv4 一样 IPv6 也是一样不提供可靠的数据交付的</p></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/15/2022, 6:27:52 PM</span></div></footer> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-44bd5a18 data-v-44bd5a18><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-44bd5a18><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-44bd5a18></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-44bd5a18></path></svg></div></div></div>
    <script src="/assets/js/app.c6f5b0ce.js" defer></script><script src="/assets/js/3.cc0234fb.js" defer></script><script src="/assets/js/1.e1c511f8.js" defer></script><script src="/assets/js/25.7e7be031.js" defer></script>
  </body>
</html>
